<!DOCTYPE html>
<html lang="html" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/website/layout/layout}">
<meta http-equiv="content-type" content="text/html;charset=UTF-8"/><!-- /Added by HTTrack -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <style>
        .color-list {
            display: flex;
            justify-content: flex-start;
        }
        .btn-container {
            display: flex;
        }

        .btn-size {
            display: inline-block;
            padding: 10px 15px;
            margin: 5px;
            text-decoration: none;
            color: #000;
            background-color: #FFF;
            border: 1px solid #b19361;
            border-radius: 4px;
            transition: background-color 0.3s;
            font-size: large;
        }

        .btn-size:hover {
            background-color: #a27f40;
            color: #FFF;
            font-size: large;
        }

        .btn-size.active {
            background-color: #a27f40;
            border-color: #a27f40;
            color: #FFF;
        }
        .image-box {
            width: 320px;
            height: 300px;
            overflow: hidden;
        }

        .img-fluid {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .out-of-stock-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .circle {
            width: 150px;
            height: 150px;
            background-color: #ffffff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .out-of-stock-text {
            color: #FF6347;
            font-weight: bold;
            font-size: 24px;
            margin: 0;
        }

    </style>
</head>

<body layout:fragment="content2">

<!-- End Offcanvas Search Bar Section -->
<div id="mobile-menu-offcanvas" class="offcanvas offcanvas-rightside offcanvas-mobile-menu-section">
    <!-- Start Offcanvas Header -->
    <div class="offcanvas-header text-right">
        <button class="offcanvas-close"><i class="ion-android-close"></i></button>
    </div> <!-- End Offcanvas Header -->
    <!-- Start Offcanvas Mobile Menu Wrapper -->
    <div class="offcanvas-mobile-menu-wrapper">
        <!-- Start Mobile Menu  -->
        <div class="mobile-menu-bottom">
            <!-- Start Mobile Menu Nav -->
            <div class="offcanvas-menu">
                <ul>
                    <li>
                        <a class="main-menu-link" th:href="@{/sophia-store/home}">Trang chủ </a>
                    </li>
                    <li class="has-megaitem">
                        <a th:href="@{/sophia-store/product}">Sản phẩm </a>
                    </li>
                    <li>
                        <a th:href="@{/sophia-store/chung-toi}">Về chúng tôi</a>
                    </li>
                    <li>
                        <a th:href="@{/sophia-store/lien-he}">Liên hệ</a>
                    </li>
                    <li>
                        <a th:href="@{/sophia-store/FAQS}">FAQS</a>
                    </li>
                </ul>
            </div>
        </div>


    </div>
</div>

<!-- Offcanvas Overlay -->
<div class="offcanvas-overlay"></div>

<!-- ...:::: Start Breadcrumb Section:::... -->
<div class="breadcrumb-section breadcrumb-bg-color--golden">
    <div class="breadcrumb-wrapper">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <h3 class="breadcrumb-title">CHI TIẾT SẢN PHẨM</h3>
                    <div class="breadcrumb-nav breadcrumb-nav-color--black breadcrumb-nav-hover-color--golden">
                        <nav aria-label="breadcrumb">
                            <ul>
                                <li><a th:href="@{/sophia-store/home}">Trang chủ</a></li>
                                <li><a th:href="@{/sophia-store/product}">Sản phẩm</a></li>
                                <li class="active" aria-current="page">Chi tiết sản phẩm</li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> <!-- ...:::: End Breadcrumb Section:::... -->

<!-- Start Product Details Section -->
<div class="product-details-section">
    <div class="container">
        <div class="row">
            <div class="col-xl-5 col-lg-6">
                <div class="product-details-gallery-area" data-aos="fade-up" data-aos-delay="0">
                    <!-- Start Large Image -->
                    <div class="product-large-image product-large-image-horaizontal swiper-container">
                        <div class="swiper-wrapper">
                            <div class="product-image-large-image swiper-slide zoom-image-hover img-responsive"
                                 th:each="anh : ${giay.getAnhs()}">
                                <img class="img-fluid"
                                     th:src="@{${anh.getDuongDan()}}" alt=""/>
                            </div>
                        </div>
                    </div>
                    <!-- End Large Image -->
                    <!-- Start Thumbnail Image -->
                    <div class="product-image-thumb product-image-thumb-horizontal swiper-container pos-relative mt-5">
                        <div class="swiper-wrapper">
                            <div class="product-image-thumb-single swiper-slide"
                                 th:each="anh : ${giay.getAnhs()}">
                                <ul class="color-list">
                                    <img class="img-fluid"
                                         th:src="@{${anh.getDuongDan()}}" alt=""/>
                                </ul>
                            </div>
                        </div>
                        <!-- Add Arrows -->
                        <div class="gallery-thumb-arrow swiper-button-next"></div>
                        <div class="gallery-thumb-arrow swiper-button-prev"></div>
                    </div>
                    <!-- End Thumbnail Image -->
                </div>
            </div>
            <div class="col-xl-7 col-lg-6">
                <div class="product-details-content-area product-details--golden" data-aos="fade-up"
                     data-aos-delay="200">
                    <!-- Start  Product Details Text Area-->
                    <div class="product-details-text">
                        <h4 class="title"
                            th:text="${giay.hang.ten + ' ' + giay.giay.ten + ' ' + giay.ten + ' ' + giay.loaiGiay.ten + ' ' + giay.mauSac.ten+ ' ' + giay.kichCo.ten}"></h4>
                        <div class="price">
                            <span th:if="${session['giaCu_' + id] != session['giaMoi_' + id]}"
                                  class="original-price"
                                  style="text-decoration: line-through; color: red; font-size: 13px"
                                  th:text="${#numbers.formatCurrency(session['giaCu_' + id])}"></span>
                            <br>
                            <span class="discounted-price" th:if="${session['giaCu_' + id] != session['giaMoi_' + id]}"
                                  th:text="${#numbers.formatCurrency(session['giaMoi_' + id])}"></span>

                            <span th:unless="${session['giaCu_' + id] != session['giaMoi_' + id]}"
                                  th:text="${#numbers.formatCurrency(session['giaCu_' + id])}"></span>
                        </div>

                        <p th:text="${giay.moTa}"></p>
                    </div>
                    <!-- End  Product Details Text Area-->
                    <!-- Start Product Variable Area -->
                    <div class="product-details-variable">
                        <div class="variable-single-item">
                            <span>Kích cỡ</span>
                            <div class="btn-container">
                                    <div th:each="sizeGiay : ${size}">
                                        <a class="btn-size"
                                           th:href="@{'/sophia-store/detaill/'+${sizeGiay.id}}"
                                           th:text="${sizeGiay.ten}"
                                           th:classappend="${giay.kichCo} == ${sizeGiay} ? 'active' : ''"></a>
                                    </div>
                            </div>
                        </div>
                        <div class="variable-single-item">
                            <span>Màu sắc</span>
                            <div class="btn-container">
                                <div th:each="mauSacGiay : ${mauSac}">
                                    <a class="btn-size"
                                       th:href="@{'/sophia-store/detailll/'+${mauSacGiay.id}}"
                                       th:text="${mauSacGiay.ten}"
                                       th:classappend="${giay.mauSac} == ${mauSacGiay} ? 'active' : ''"></a>
                                </div>
                            </div>
                        </div>
                        <!-- Product Variable Single Item -->
                        <div class="variable-single-item">
                            <div class="product-stock">
                                <i class="ion-checkmark-circled product-stock-in"></i>
                                Còn
                                <span class="product-stock-in"
                                      th:text="${giay.getSoLuong()+' '}">
                                </span>Sản phẩm
                            </div>
                        </div>
                        <!-- Product Variable Single Item -->
                        <div class="d-flex align-items-center ">
                            <div class="variable-single-item ">
                                <span>Số lượng</span>
                                <div class="product-variable-quantity">
                                    <input min="1" max="100" value="1" type="number" id="quantityInput">
                                </div>
                            </div>

                            <div class="product-add-to-cart-btn">
                                <a th:attr="data-product-id=${giay.getId()}" class="add-to-cart btn btn-block btn-lg btn-black-default-hover">+ Thêm giỏ hàng</a>
                            </div>
                        </div>
                    </div> <!-- End Product Variable Area -->
                </div>
            </div>
        </div>
    </div>
</div> <!-- End Product Details Section -->

<!-- Start Product Default Slider Section -->
<div class="product-default-slider-section section-top-gap-100 section-fluid">
    <!-- Start Section Content Text Area -->
    <div class="section-title-wrapper" data-aos="fade-up" data-aos-delay="0">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="section-content-gap">
                        <div class="secton-content">
                            <h3 class="section-title">SẢN PHẨM CÙNG LOẠI</h3>
                            <p>Duyệt qua bộ sưu tập các sản phẩm liên quan của chúng tôi.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Start Section Content Text Area -->
    <div class="product-wrapper" data-aos="fade-up" data-aos-delay="0">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="product-slider-default-1row default-slider-nav-arrow">
                        <!-- Slider main container -->
                        <div class="swiper-container product-default-slider-4grid-1row">
                            <!-- Additional required wrapper -->
                            <div class="swiper-wrapper">
                                <!-- Start Product Default Single Item -->
                                <div class="product-default-single-item product-color--golden swiper-slide" th:each="chiTietGiay : ${chiTietGiayById}">
                                    <div class="image-box">
                                        <a th:href="@{'/sophia-store/detail/' + ${chiTietGiay.getId()}}"
                                           class="image-link">
                                            <!-- Hiển thị ảnh sản phẩm -->
                                            <img class="img-fluid"
                                                 th:src="@{${chiTietGiay.anhs.get(0).getDuongDan()}}"
                                                 alt=""
                                                 th:classappend="${chiTietGiay.soLuong == 0} ? 'gray-scale-image' : ''">

                                            <!-- Hiển thị ảnh phụ (nếu cần) -->
                                            <img class="img-fluid"
                                                 th:src="@{${chiTietGiay.anhs.get(1).getDuongDan()}}"
                                                 alt=""
                                                 th:classappend="${chiTietGiay.soLuong == 0} ? 'gray-scale-image' : ''">

                                            <!-- Hiển thị overlay khi sản phẩm hết hàng -->
                                            <div th:if="${chiTietGiay.soLuong == 0}"
                                                 class="out-of-stock-overlay">
                                                <!-- Chữ Hết hàng nằm trong một thẻ div hình tròn -->
                                                <div class="circle">
                                                    <p class="out-of-stock-text">Hết hàng</p>
                                                </div>
                                            </div>
                                        </a>

                                        <div class="action-link">
                                            <div class="action-link-left">
                                                <a class="add-to-cart btn"
                                                   th:attr="data-product-id=${chiTietGiay.getId()}">Thêm vào giỏ</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="content">
                                        <div class="content-left">
                                            <h6 class="title"><a th:href="@{'/sophia-store/detail/' + ${chiTietGiay.getId()}}" th:text="${giay.hang.ten +
                                             ' ' + giay.giay.ten +
                                             ' ' + giay.ten +
                                             ' ' + giay.loaiGiay.ten +
                                             ' ' + giay.mauSac.ten+
                                             ' ' + giay.kichCo.ten}"></a></h6>
                                        </div>
                                        <div class="content-right">
                                            <span class="discounted-price" th:if="${session['giaCu_' + id] != session['giaMoi_' + id]}"
                                                  th:text="${#numbers.formatCurrency(session['giaMoi_' + id])}"></span>

                                            <span th:unless="${session['giaCu_' + id] != session['giaMoi_' + id]}"
                                                  th:text="${#numbers.formatCurrency(session['giaCu_' + id])}"></span>
                                        </div>

                                    </div>
                                </div>
                                <!-- End Product Default Single Item -->
                            </div>
                        </div>
                        <!-- If we need navigation buttons -->
                        <div class="swiper-button-prev"></div>
                        <div class="swiper-button-next"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- End Product Default Slider Section -->
<script>
    // Thêm sự kiện click để thêm hoặc xóa lớp 'active' khi nút được chọn
    document.addEventListener("DOMContentLoaded", function() {
        var btns = document.querySelectorAll('.btn');
        btns.forEach(function(btn) {
            btn.addEventListener('click', function() {
                btns.forEach(function(innerBtn) {
                    innerBtn.classList.remove('active');
                });
                btn.classList.add('active');
            });
        });
    });


</script>
<!-- material-scrolltop button -->
<button class="material-scrolltop" type="button"></button>


</body>
</html>